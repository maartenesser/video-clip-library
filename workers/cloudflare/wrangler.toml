# Wrangler configuration for Cloudflare Containers
name = "video-processing-pipeline"
compatibility_date = "2024-01-01"

# Container configuration
[containers]
image = "./Dockerfile"
port = 8080
memory = "2GB"
cpu = 2

# Environment variables (set via wrangler secret)
[vars]
ENVIRONMENT = "production"

# R2 bucket bindings
[[r2_buckets]]
binding = "VIDEO_BUCKET"
bucket_name = "video-clips"

[[r2_buckets]]
binding = "CLIPS_BUCKET"
bucket_name = "processed-clips"

# Secrets (configured via `wrangler secret put`)
# - OPENAI_API_KEY
# - R2_ACCESS_KEY_ID
# - R2_SECRET_ACCESS_KEY
# - R2_ENDPOINT_URL
# - WEBHOOK_SECRET
